<!DOCTYPE html>
<html lang="en" ng-app="urlEditor">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">

	<link rel="stylesheet" href="https://unpkg.com/clarity-ui/clarity-ui.min.css" type="text/css" />
	<link rel="stylesheet" href="https://unpkg.com/clarity-icons/clarity-icons.min.css" type="text/css" />
	<link rel="stylesheet" href="css/styles.css" type="text/css">

	<title>Dashboard | murls/firebase</title>
</head>

<body ng-controller="urlCtrl">
	<script src="https://www.gstatic.com/firebasejs/4.6.0/firebase.js"></script>
	<script type="text/javascript" src="https://unpkg.com/clarity-icons/clarity-icons.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.1/angular.min.js"></script>
	<script src="https://cdn.firebase.com/libs/angularfire/2.3.0/angularfire.min.js"></script>
	<script src="js/app.js"></script>
	<div class="main-container">
		<header class="header-4 ">
			<div class="branding">
				<a href="#" class="nav-link">
					<clr-icon shape="vm-bug"></clr-icon>
					<span class="title">murls/firebase</span>
				</a>
			</div>
			<div class="header-actions">
				<div class="dropdown bottom-right" id="accountSettings">
					<button type="button" class="dropdown-toggle nav-icon" onclick="openDropdown('accountSettings');">
						<clr-icon shape="user"></clr-icon>
						<clr-icon shape="caret down"></clr-icon>
					</button>
					<div class="dropdown-menu">
						<h4 class="dropdown-header">Account Actions</h4>
						<button type="button" class="dropdown-item" onclick="resetPassword();">Reset Password</button>
						<button type="button" class="dropdown-item" onclick="logOut();">Log Out</button>
						<button type="button" class="dropdown-item">Add Users</button>
						<div class="dropdown-divider"></div>
						<h4 class="dropdown-header">Miscellaneous</h4>
						<a href="https://github.com/murls/firebase" class="dropdown-item">murls/firebase on GitHub</a>
						<a href="https://murls.ga" class="dropdown-item">Murls Website</a>
						<button type="button" class="dropdown-item">Check for Updates</button>
						<h4 id="userEmail" class="dropdown-header">Email</h4>
					</div>
				</div>
			</div>
		</header>
		
		<div class="content-container">
		    <div class="inner-container">
				<form onsubmit="add();">
					<h2 class="no-margin">Shorten your URL</h2>
					<div class="row form-group">
			            <!--<label for="formFields_1">Textbox [type="text"]</label>-->
			            <div class="col-xs-6"><input required spellcheck="false" class="full-width" type="url" placeholder="Long URL"></div>
			            <div class="col-xs-4"><input required spellcheck="false" style="width:80%" type="text" placeholder="Short URL"><clr-icon style="width:20%" shape="wand"></clr-icon></div>
			            <div class="col-xs-2"><button class="btn btn-link" type="submit">Shorten URL</button></div>
			        </div>
				</form>
				
				<table class="table">
	                <thead>
	                    <tr>
	                        <th class="left">Short URL</th>
	                        <th class="left">Long URL</th>
	                        <th class="left">All Clicks</th>
	                        <th class="left">Actions</th>
	                    </tr>
	                </thead>
	                <tbody>
	                    <tr class="url-row" ng-repeat="url in urls">
	                    	<td title="Short URL" class="left center"><a ng-href="#{{url.$id}}">{{url.$id}}</a></td>
		                    <td title="Long URL" class="left"><a ng-href="{{url.l}}" target="_blank">{{url.l}}</a></td>
		                    <td title="Total Clicks Recorded" class="left">{{url.th}}</td>
		                    <td class="left url-actions">
		                    	<div class="btn-group btn-sm">
								    <button title="Edit URL" class="btn btn-icon"><clr-icon shape="pencil" size="16"></clr-icon></button>
								    <button title="View Statistics for URL" class="btn btn-icon"><clr-icon shape="line-chart" size="16"></clr-icon></button>
								    <button title="Delete URL" class="btn btn-icon"><clr-icon shape="trash" size="16"></clr-icon></button>
								</div>
		                    </td>
	                    </tr>
	                </tbody>
	            </table>
            </div>
		</div>
	</div>

	<div id="resetPassword">
		<div class="modal">
			<div class="modal-dialog" role="dialog" aria-hidden="true">
				<div class="modal-content">
					<div class="modal-header">
						<button aria-label="Close" onclick="closeModal(this.id)" class="close" type="button" id="resetPasswordClose">
							<clr-icon aria-hidden="true" shape="close"></clr-icon>
						</button>
						<h3 class="modal-title">Reset Password</h3>
					</div>
					<div class="modal-body">
						<p id="resetPasswordText"></p>
					</div>
					<div class="modal-footer">
						<button class="btn btn-primary" type="button" onclick="closeModal(this.id)" id="resetPasswordClose">Ok</button>
					</div>
				</div>
			</div>
		</div>
		<div class="modal-backdrop" aria-hidden="true"></div>
	</div>

</body>

</html>